<!DOCTYPE html><html><head>  <title>微博登录测试</title></head><body><!-- <textarea rows="3" id="text">111,222333,444555,666777,888</textarea><input type="button" id="data" value="数据"> --><script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript">  // var text = document.getElementById('text');  // var data = document.getElementById('data');  // data.onclick = function(){  //   var textArr = []  //   var content = text.value  //   var _con = content.split('\n')  //   for (var i = 0; i < _con.length; i++) {  //       var textObj = {}  //       textObj['name'] = unescape(_con[i].split(",")[0])  //       textObj['data'] = unescape(_con[i].split(",")[1])  //       textArr.push(textObj)  //   };  //   console.log(_con)  //   console.log(JSON.stringify(textArr))  // }  function getUrlParam(name) {    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象    var r = window.location.search.substr(1).match(reg);  //匹配目标参数    if (r != null) return unescape(r[2]); return null; //返回参数值  }  var url = 'https://api.weibo.com/oauth2/access_token';  var client_id = '676162264';  var client_secret = 'ac64bbeb2b1acad1850e191b18b9d5db';  var grant_type = getUrlParam('code');  $.ajax({    type : 'POST',    url : url,    data : {      "client_id" : client_id,      "client_secret" : client_secret,      "grant_type" : grant_type    },    success : function(data){      alert(data.access_token);      if( window.opener ) {        alert(1)        window.opener.location.reload();        window.close();      }else{        console.log(1)      }    }  })</script></body></html>